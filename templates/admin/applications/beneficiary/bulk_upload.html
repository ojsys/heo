{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<h1>Bulk Upload Beneficiaries</h1>

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
    <h3>CSV File Format</h3>
    <p>Your CSV file should have the following columns:</p>
    <code style="display: block; background: #e9ecef; padding: 15px; border-radius: 4px; overflow-x: auto;">
        type,full_name,gender,phone,email,address,guardian_name,guardian_phone,program,start_date
    </code>

    <h4 style="margin-top: 15px;">Column Details:</h4>
    <ul>
        <li><strong>type</strong>: education, health, youth, or housing</li>
        <li><strong>full_name</strong>: Full name of the beneficiary (required)</li>
        <li><strong>gender</strong>: male or female</li>
        <li><strong>phone</strong>: Phone number</li>
        <li><strong>email</strong>: Email address</li>
        <li><strong>address</strong>: Home address</li>
        <li><strong>guardian_name</strong>: Guardian's name</li>
        <li><strong>guardian_phone</strong>: Guardian's phone</li>
        <li><strong>program</strong>: Program name (will be matched)</li>
        <li><strong>start_date</strong>: Start date (YYYY-MM-DD format)</li>
    </ul>
</div>

<form method="post" enctype="multipart/form-data" style="background: white; padding: 20px; border: 1px solid #dee2e6; border-radius: 8px;">
    {% csrf_token %}

    <div style="margin-bottom: 20px;">
        <label for="csv_file" style="display: block; margin-bottom: 10px; font-weight: bold;">Select CSV File:</label>
        <input type="file" name="csv_file" id="csv_file" accept=".csv" required style="padding: 10px; border: 1px solid #ccc; border-radius: 4px; width: 100%;">
    </div>

    <div>
        <button type="submit" class="button" style="padding: 10px 30px; background: #417690; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
            Upload and Import
        </button>
        <a href="{% url 'admin:applications_beneficiary_changelist' %}" style="margin-left: 15px; color: #666;">Cancel</a>
    </div>
</form>

<div style="margin-top: 20px;">
    <h3>Sample CSV</h3>
    <pre style="background: #e9ecef; padding: 15px; border-radius: 4px; overflow-x: auto;">
type,full_name,gender,phone,email,address,guardian_name,guardian_phone,program,start_date
education,John Doe,male,08012345678,john@email.com,"123 Main St",Jane Doe,08087654321,Scholarship 2024,2024-01-15
health,Mary Smith,female,08098765432,mary@email.com,"456 Oak Ave",Tom Smith,08011112222,Healthcare 2024,2024-02-01
    </pre>
</div>
{% endblock %}
